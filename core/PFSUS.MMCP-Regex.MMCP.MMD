[ ] #".root"# {protocol:"PFSUS", version:"1.1.0.0", standard:"MCP+LambdaJSON"}
# PFSUS Regex Standard v1.1.0.0

- **{desc:"Regex definitions for parsing `.mmcp.mmd` files compliant with MCP v1.1.0.0."}**
- **{ref:[[MerMaidContextProtocol.version-1.0.0.0.mmcp.mmd]]}**
- #group/ears #group/regex #group/pfsus #color/green

---

## {type:Section, title:"Core Structure"}

### {type:Regex, id:PFSUS-CORE-001, for:"Root Indicator"}
```regex
^\[ \] #"\.root"#.*
```

### {type:Regex, id:PFSUS-CORE-002, for:"Markdown Heading"}
```regex
^#+\s.*
```

### {type:Regex, id:PFSUS-CORE-003, for:"Horizontal Rule"}
```regex
^---$
```

---

## {type:Section, title:"Content Elements"}

### {type:Regex, id:PFSUS-CONT-001, for:"Line with Wikilink"}
```regex
^\[\[[^\]]+\]\].*
```

### {type:Regex, id:PFSUS-CONT-002, for:"Line with Obsidian Tags"}
```regex
^(\s*#\w+(\/\w+)*\s*)+$
```

### {type:Regex, id:PFSUS-CONT-003, for:"Blockquote"}
```regex
^>.*
```

### {type:Regex, id:PFSUS-CONT-004, for:"List Item"}
```regex
^\s*[-*+]\s.*
```

---

## {type:Section, title:"LambdaJSON"}

### {type:Regex, id:PFSUS-LJSON-001, for:"Full LambdaJSON Object", scope:"Extraction"}
```regex
\{(?<content>[^}]+)\}
```

### {type:Regex, id:PFSUS-LJSON-002, for:"Key-Value Pair", scope:"Parsing"}
```regex
(?<key>[a-zA-Z0-9_]+):(?<value>\"[^\"]*\"|\[[^\]]*\]|[^,}\s]+)
```

### {type:Regex, id:PFSUS-LJSON-003, for:"Node/Edge Type", scope:"Extraction"}
```regex
\{.*type:(?<type>\w+).*\}
```

### {type:Regex, id:PFSUS-LJSON-004, for:"Code Comment Reference", scope:"Parsing"}
```regex
#\s*\{.*type:Code.*\}
```

---

## {type:Section, title:"Validation Logic (Summary)"}
- **{desc:"Summary of the proven robust validation method. The monolithic regex below is for line-level linting only."}**
- **Method:** `Stateful Programmatic Validator`
- **Checks:** `1. Presence of .root`, `2. Stateful line-by-line validation`, `3. Block integrity`.

### {type:Regex, id:PFSUS-LINT-001, for:"Monolithic Line-Level Linting", status:NotRecommendedForValidation}
```regex
^(?:(\[ \] #"\.root"#.*)|(#+\s.*)|(---)|(\[\[[^\]]+\]\].*)|((\s*#\w+(\/\w+)*\s*)+)|(>.*)|(\s*[-*+]\s.*)|(\[[ x-]\]\s.*)|(\{.*\})|(`{3}.*))(\r?\n(?:(\[ \] #"\.root"#.*)|(#+\s.*)|(---)|(\[\[[^\]]+\]\].*)|((\s*#\w+(\/\w+)*\s*)+)|(>.*)|(\s*[-*+]\s.*)|(\[[ x-]\]\s.*)|(\{.*\})|(`{3}.*)))*$
```
